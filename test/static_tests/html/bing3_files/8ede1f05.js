var MultiFeedbackBootstrap;(function(n){function e(n,t,u,e){var k,o,v,d,l;e===void 0&&(e="1002");ReportProblemClientInst.instrumentationDebugId=ReportProblemClientInst.getDebugId();LocalGenericFeedbackSubmit.isSubmitDone=!1;FeedbackBootstrapUtils.linkId=n;FeedbackBootstrapUtils.setHighlightedDiv();var g=_ge("multiEntityFeedbackThumbsDown"),it=g.getBoundingClientRect(),nt=sb_de.clientWidth+_d.documentElement.scrollLeft,tt=sb_de.clientHeight,a=sj_ce("div","multiFeedbackContent","r_mfContentDiv");a.style.top=((tt-350)/2).toString()+"px";a.style.left="760px";a.style.zIndex=(parseInt(e)+2).toString();var y=sj_ce("div","multiFeedbackTitlebar","r_mfTitlebarDiv"),p=sj_ce("a","multiFeedbackClose","r_mfCloseDiv");p.style.zIndex=(parseInt(e)+2).toString();y.appendChild(p);var b=sj_ce("h2","multiFeedbackTitle","r_mfTitleDiv");b.innerHTML=u;y.appendChild(b);a.appendChild(y);var w=sj_ce("iframe","multiFeedbackIframe","r_mfIframeDiv");for(w.name="MultiFeedback",w.src=t+"&format=inline",a.appendChild(w),sj_b.appendChild(a),_w.addEventListener("beforeunload",f),FeedbackBootstrapUtils.highlightedDiv!=null&&(FeedbackBootstrapUtils.highlightedDiv.classList.add("redBorder"),FeedbackBootstrapUtils.highlightedDiv.style.zIndex=(parseInt(e)+1).toString(),FeedbackBootstrapUtils.highlightedDiv.style.position="relative",k="multiFeedbackContentOverlay",o=sj_ce("div",k,"r_mffbol"),o.style.height=_d.documentElement.scrollHeight+"px",o.style.width=nt+"px",o.style.zIndex=e,o.style.top="0",o.style.left="0",o.style.position="fixed",o.style.backgroundColor="#000",o.style.opacity="0.75",sj_b.appendChild(o)),v=1;v<6;v++)d="exp_trgr_"+v.toString(),l=_ge(d),l!=undefined&&l!=null&&(l=c(l,!0),sj_be(l,"click",i),sj_be(l,"mouseover",i),sj_be(l,"mouseout",i),h(l));sj_be(p,"click",function(n){s(n)});document.onkeydown=function(n){n&&n.keyCode==27&&r(n)}}function r(n){LocalGenericFeedbackSubmit.isSubmitDone||(ReportProblemClientInst.log(ReportProblemClientInst.Feature.MultiFeedback,ReportProblemClientInst.Element.Escape,ReportProblemClientInst.EventType.Clicked),ReportProblemClientInst.submitMultiEntityClientInst(),Log.Log("MultiFeedbackEscapeBeforeSubmit",ReportProblemClientInst.ReportProblem,ReportProblemClientInst.CloseActions,!0,ReportProblemClientInst.DebugId,ReportProblemClientInst.instrumentationDebugId));t(n)}function t(n){var i,t;sj_pd(n);sj_sp(n);i=_ge("multiFeedbackContent");i.parentNode.removeChild(i);t=_ge("multiFeedbackContentOverlay");t!=undefined&&t.parentNode.removeChild(t);u()}function o(){var n=_ge("multiFeedbackContent");n.style.opacity="0";setTimeout(function(){n.parentNode.removeChild(n)},3e3);u()}function s(n){LocalGenericFeedbackSubmit.isSubmitDone||(ReportProblemClientInst.log(ReportProblemClientInst.Feature.MultiFeedback,ReportProblemClientInst.Element.Close,ReportProblemClientInst.EventType.Clicked),ReportProblemClientInst.submitMultiEntityClientInst(),Log.Log("MultiFeedbackCloseBeforeSubmit",ReportProblemClientInst.ReportProblem,ReportProblemClientInst.CloseActions,!0,ReportProblemClientInst.DebugId,ReportProblemClientInst.instrumentationDebugId));t(n)}function u(){var t,i,n;LocalGenericFeedbackSubmit.isSubmitDone?(t=_ge("beforeMultiEntityFeedback"),i=_ge("afterMultiEntityFeedback"),t.classList.add("hideEntry"),i.classList.remove("hideEntry")):(n={},n.localFeedbackType="multiEntity",n.text="User selected Thumbs Down on Multi-entity Local answer",n.type="3",LocalGenericFeedbackSubmit.sendData(n,"LocalMultiEntityFeedback"));_w.removeEventListener("beforeunload",f);setTimeout(function(){location.reload()},1500)}function f(){LocalGenericFeedbackSubmit.isSubmitDone||Log.Log(ReportProblemClientInst.Feature.MultiFeedbackUnloaded,ReportProblemClientInst.ReportProblem,ReportProblemClientInst.CloseActions,!0,ReportProblemClientInst.DebugId,ReportProblemClientInst.instrumentationDebugId)}function i(n){for(var t=sj_et(n);t!=null&&!t.classList.contains("exp_trgr");)t=t.parentElement;t!=null&&t.parentElement!=null&&t.parentElement.parentElement!=null&&(t=t.parentElement.parentElement,n.type=="mouseover"||n.type=="mouseout"?t.classList.contains("redBorderSmall")?(t.classList.remove("redBorderSmall"),t.classList.contains("redBorder")||t.classList.add("hiddenborder")):(t.classList.remove("hiddenborder"),t.classList.add("redBorderSmall")):t.classList.contains("redBorder")?t.classList.remove("redBorder"):t.classList.add("redBorder"),sj_sp(n),sj_pd(n))}function h(n){while(n!=null&&!n.classList.contains("exp_trgr"))n=n.parentElement;n!=null&&n.parentElement!=null&&n.parentElement.parentElement!=null&&(n=n.parentElement.parentElement,n.classList.add("hiddenborder"))}function c(n,t){var i;if(t)i=n.cloneNode(!0),n.parentNode.replaceChild(i,n);else{for(i=n.cloneNode(!1);n.hasChildNodes();)i.appendChild(n.firstChild);n.parentNode.replaceChild(i,n)}return i}n.InitializeMultiEntityFeedback=e;n.MultiFeedbackEscapeEvent=r;n.CloseMultiFeedback=t;n.AutoFadeMultiFeedbackPopover=o})(MultiFeedbackBootstrap||(MultiFeedbackBootstrap={}))